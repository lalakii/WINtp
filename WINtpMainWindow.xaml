<Window x:Class="WINtpMainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:wf="clr-namespace:System.Windows.Forms;assembly=System.Windows.Forms"
        xmlns:wfi="clr-namespace:System.Windows.Forms.Integration;assembly=WindowsFormsIntegration"
        MinHeight="350"
        Title="WINtp 设置 - "
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.Resources>
            <Style TargetType="TextBlock">
                <Setter Property="Margin" Value="2,5"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="HorizontalAlignment" Value="Right"/>
                <Setter Property="TextAlignment" Value="Right"/>
                <Setter Property="TextWrapping" Value="Wrap"/>
            </Style>
            <Style TargetType="wfi:WindowsFormsHost">
                <Setter Property="MinWidth" Value="120"/>
            </Style>
            <Style TargetType="DataGrid">
                <Setter Property="Margin" Value="2,5"/>
                <Setter Property="Padding" Value="0,2"/>
            </Style>
            <Style TargetType="TextBox">
                <Setter Property="Margin" Value="2,5"/>
                <Setter Property="Padding" Value="0,2"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
            </Style>
            <Style TargetType="GroupBox">
                <Setter Property="Margin" Value="5,5,5,5"/>
            </Style>
            <Style TargetType="ComboBox">
                <Setter Property="Margin" Value="2,5"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
            </Style>
            <Style TargetType="Button">
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="Margin" Value="10,6"/>
                <Setter Property="MinHeight" Value="28"/>
                <Setter Property="MinWidth" Value="110"/>
            </Style>
            <Style TargetType="CheckBox">
                <Setter Property="Margin" Value="4,5"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
            </Style>
        </Grid.Resources>
        <Grid Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Margin="5,3">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="系统时间: " x:Name="sysTimeTbk"  Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right"/>
            <wfi:WindowsFormsHost Grid.Row="0" Grid.Column="1">
                <wf:DateTimePicker x:Name="currentTimeDpk" Format="Custom" />
            </wfi:WindowsFormsHost>
        </Grid>
        <GroupBox Grid.Column="0" Grid.Row="1" Header="服务器列表" x:Name="serverListTbk" Grid.RowSpan="8">
            <DataGrid x:Name="serverListDgd" MaxWidth="380" CanUserReorderColumns="False" AutoGenerateColumns="False" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="域名" x:Name="domainDgc"  Binding="{Binding Url}" MinWidth="150" />
                    <DataGridComboBoxColumn Header="协议" SelectedValueBinding="{Binding TypeId}" SelectedValuePath="Id" DisplayMemberPath="Type" MinWidth="50" x:Name="typeListCbx"/>
                    <DataGridTextColumn Header="优先级" x:Name="priorityDgc"  Binding="{Binding Priority}" MinWidth="15" />
                    <DataGridCheckBoxColumn Header="启用" x:Name="enabledDgc"  Binding="{Binding Enabled}" MinWidth="15" />
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>
        <GroupBox Grid.Column="1" Grid.Row="1" Grid.RowSpan="7" x:Name="configTbk" Header="软件配置" MinWidth="280">
            <StackPanel>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="同步方式: " x:Name="syncModeTbk" Grid.Column="0" Grid.Row="0" Margin="0,10,0,20"/>
                    <ComboBox Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" Name="syncModeCbx" Margin="0,10,0,20"/>
                    <TextBlock Text="偏移量: " x:Name="offsetTbk" Grid.Column="0" Grid.Row="1" />
                    <Slider x:Name="offsetSdr" Grid.Column="1" Grid.Row="1" Minimum="-10" Maximum="10" MinWidth="120" VerticalAlignment="Center"/>
                    <Button Content="复位" x:Name="offsetResetBtn" MinHeight="0" MinWidth="36" Grid.Column="2" HorizontalAlignment="Stretch" Grid.Row="1" Margin="5,2,2,2" Padding="8,0"/>
                    <TextBlock x:Name="offsetValueTbk" Grid.Column="1" Grid.Row="2" VerticalAlignment="Top" HorizontalAlignment="Center"/>
                    <TextBlock Text="误差范围: " x:Name="deviationTbk" Grid.Column="0" Grid.Row="3"/>
                    <Slider x:Name="deviationSdr" Grid.Column="1" Grid.Row="3" Minimum="0" Maximum="5" MinWidth="120" VerticalAlignment="Center"/>
                    <Button Content="复位" x:Name="deviationResetBtn" MinHeight="0" MinWidth="36" Grid.Column="2" HorizontalAlignment="Stretch" Grid.Row="3" Margin="5,2,2,2" Padding="8,0"/>
                    <TextBlock x:Name="deviationValueTbk" Grid.Column="1" Grid.Row="4" VerticalAlignment="Top" HorizontalAlignment="Center"/>
                    <Border Height="1" Background="#E0E0E0" VerticalAlignment="Top" Margin="0,0,0,5" Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="3"/>
                    <TextBlock Text="协议类型: " x:Name="modeTbk" Grid.Column="0" Grid.Row="6"/>
                    <ComboBox Grid.Row="6" Grid.Column="1" Name="modeCbx" />
                    <TextBlock Text="程序超时: " x:Name="timeoutTbk"  Grid.Row="7" Grid.Column="0"/>
                    <wfi:WindowsFormsHost Grid.Row="7" Grid.Column="1">
                        <wf:NumericUpDown x:Name="timeoutNud"/>
                    </wfi:WindowsFormsHost>
                    <TextBlock Text="毫秒" Grid.Row="7" Grid.Column="2" x:Name="millsecondTbk0"  HorizontalAlignment="Left"/>
                    <TextBlock Text="网络超时: " x:Name="netTimeoutTbk" Grid.Row="8" Grid.Column="0"/>
                    <wfi:WindowsFormsHost Grid.Row="8" Grid.Column="1">
                        <wf:NumericUpDown x:Name="netTimeoutNud"/>
                    </wfi:WindowsFormsHost>
                    <TextBlock Text="毫秒" Grid.Row="8" Grid.Column="2" x:Name="millsecondTbk1"  HorizontalAlignment="Left"/>
                    <TextBlock Text="同步周期: " x:Name="intervalTbk"  Grid.Row="9" Grid.Column="0"/>
                    <wfi:WindowsFormsHost Grid.Row="9" Grid.Column="1">
                        <wf:NumericUpDown x:Name="timeSyncNud"/>
                    </wfi:WindowsFormsHost>
                    <TextBlock Text="秒" HorizontalAlignment="Left" Grid.Row="9" Grid.Column="2" x:Name="secondTbk"/>
                </Grid>
                <CheckBox Content="使用SSL"  x:Name="useSslCbx"/>
                <CheckBox Content="日志输出" x:Name="logPrintCbx"/>
            </StackPanel>
        </GroupBox>
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Grid.Column="1" Grid.Row="8">
            <Grid HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,3">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <WrapPanel Orientation="Horizontal" MaxWidth="280" Grid.Column="0" Grid.Row="0">
                    <Button Content="安装服务" x:Name="installBtn" HorizontalAlignment="Center" />
                    <Button Content="保存配置" x:Name="applyBtn" HorizontalAlignment="Center" />
                    <Button Content="卸载服务" x:Name="uninstallBtn" HorizontalAlignment="Center"/>
                    <Button Content="退出程序" x:Name="exitBtn" HorizontalAlignment="Center"/>
                </WrapPanel>
                <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" TextAlignment="Center" HorizontalAlignment="Center"><Run Text="获取帮助: " x:Name="moreTbk" />
                    <Hyperlink NavigateUri="https://wintp.sourceforge.io" RequestNavigate="Navigate">https://wintp.sourceforge.io</Hyperlink>
                    <LineBreak/>
                    <Hyperlink NavigateUri="https://github.com/lalakii/WINtp" RequestNavigate="Navigate">https://github.com/lalakii/WINtp</Hyperlink>
                </TextBlock>
            </Grid>
        </ScrollViewer>
    </Grid>
</Window>